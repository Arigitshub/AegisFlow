# Introduction

AegisFlow is a sophisticated **Security Liaison** designed to govern AI agent actions through transparent mediation rather than silent blocking.

## The Problem

AI agents are powerful but risky. They can execute destructive commands, leak secrets, or facilitate attacks. Traditional security tools block everything (too restrictive) or nothing (too dangerous).

## The AegisFlow Solution

AegisFlow acts as a "conscious" layer, ensuring high-risk operations are verified by a **Human-in-the-Loop (HITL)**.

### Core Philosophy

1.  **Suspicion Scoring**: Every action is assigned a Threat Level (Low, Medium, High).
2.  **Transparent Mediation**: Risks are reported clearly; high risks require explicit approval.
3.  **Sentinel State Engine**: Tracks reputation and persists logs.
4.  **Audit Trail**: All decisions and outcomes are logged.
5.  **Sandwich Wrapper**: Wrap any terminal command in a monitored shell.

## Architecture

![Architecture Diagram](https://raw.githubusercontent.com/Arigitshub/AegisFlow/main/docs/public/architecture.png)

AegisFlow sits between your Agent and the System/User. It intercepts:

- **Input**: Prompts sending to the LLM (Input Rails)
- **Output**: Responses from the LLM (Output Rails)
- **Actions**: Content generated by tools or executed commands (Sandwich)

## Features

- **ML-Powered Detection**: Hybrid engine using HuggingFace Transformers (optional) + 25+ YARA-style regex rules.
- **Sandwich Wrapper**: Wrap any terminal command (`aegis run`) with isolation levels, auto-kill timeouts, and cost tracking.
- **Rail System**: Decorator-based `@input_rail` and `@output_rail` for granular control.
- **Sentinel Dashboard**: Live terminal UI for monitoring agent behavior.
